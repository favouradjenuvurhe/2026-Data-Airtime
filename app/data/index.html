<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!-- âœ… MOBILE ESSENTIAL -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>Data Purchase</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    body {
      font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      -webkit-text-size-adjust: 100%;
    }
  </style>
</head>

<body class="bg-[#F9F9F9] text-black">

<div id="app" class="max-w-md mx-auto pb-28">

  <!-- Header -->
  <div class="flex items-center justify-between px-6 pt-6">
    <div class="flex items-center gap-2">
      <i data-lucide="chevron-left" class="w-6 h-6"></i>
      <span class="font-semibold">Pay</span>
    </div>

    <span class="font-semibold">Data ðŸ‡³ðŸ‡¬</span>

    <button class="bg-gray-900 text-white px-4 py-1 rounded-lg text-sm font-medium">
      Next
    </button>
  </div>

  <!-- Balance -->
  <div class="px-6 mt-6">
    <div class="flex justify-between text-sm text-gray-400">
      <span>Wallet Balance</span>
      <span class="text-emerald-600 font-semibold">
        â‚¦{{ balance.toLocaleString() }}
      </span>
    </div>
  </div>

  <!-- Choose Network -->
  <div class="px-6 mt-6">
    <p class="text-sm text-gray-400 mb-3">Choose Network</p>

    <div class="grid grid-cols-4 gap-4">
      <button
        v-for="net in networks"
        :key="net.name"
        @click="selectNetwork(net)"
        :class="network?.name === net.name
          ? 'border border-gray-900 bg-gray-100'
          : 'bg-white shadow'"
        class="rounded-xl p-3 flex flex-col items-center"
      >
        <img :src="net.logo" class="w-10 h-10 object-contain" />
        <span class="text-xs mt-1 font-medium">{{ net.name }}</span>
      </button>
    </div>
  </div>

  <!-- Data Plans -->
  <div class="px-6 mt-6" v-if="plans.length">
    <p class="text-sm text-gray-400 mb-3">Select Data Plan</p>

    <div class="space-y-3">
      <button
        v-for="plan in plans"
        :key="plan.id"
        @click="selectPlan(plan)"
        :class="selectedPlan?.id === plan.id
          ? 'border border-gray-900 bg-gray-100'
          : 'bg-white shadow'"
        class="w-full flex justify-between items-center px-4 py-3 rounded-xl"
      >
        <div>
          <p class="font-medium">{{ plan.name }}</p>
          <p class="text-xs text-gray-400">{{ plan.validity }}</p>
        </div>

        <p class="font-semibold">â‚¦{{ plan.price }}</p>
      </button>
    </div>
  </div>

  <!-- Selected Amount -->
  <div class="px-6 mt-6" v-if="selectedPlan">
    <div class="flex justify-between text-sm text-gray-400 mb-2">
      <span>Amount</span>
      <span class="font-semibold text-black">
        â‚¦{{ selectedPlan.price }}
      </span>
    </div>
  </div>

  <!-- Phone Number -->
  <div class="px-6 mt-6">
    <div class="flex justify-between text-sm text-gray-400 mb-2">
      <span>Enter Phone Number</span>
      <span class="text-gray-900 font-medium">Choose Contact</span>
    </div>

    <input
      type="tel"
      v-model="phone"
      maxlength="11"
      inputmode="numeric"
      class="w-full bg-white rounded-lg px-4 py-3 shadow text-lg outline-none"
      placeholder="080xxxxxxxx"
    />
  </div>

  <!-- Purchase Button -->
  <div
    class="fixed bottom-0 left-0 right-0 bg-[#F9F9F9] p-6"
    style="padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));"
  >
    <button
      @click="submit"
      :disabled="!isValid"
      :class="isValid
        ? 'bg-gray-900 text-white'
        : 'bg-gray-300 text-gray-600 cursor-not-allowed'"
      class="w-full py-4 rounded-xl font-semibold text-lg"
    >
      Purchase Data
    </button>
  </div>

</div>

<script>
const { createApp } = Vue

createApp({
  data() {
    return {
      balance: 100768.63,
      phone: '',
      network: null,
      selectedPlan: null,

      networks: [
        {
          name: 'MTN',
          logo: 'https://pulsepoint.com.ng/img/MTN.png',
          plans: [
            { id: 1, name: '500MB', price: 150, validity: '30 Days' },
            { id: 2, name: '1GB', price: 280, validity: '30 Days' },
            { id: 3, name: '2GB', price: 550, validity: '30 Days' }
          ]
        },
        {
          name: 'AIRTEL',
          logo: 'https://pulsepoint.com.ng/img/AIRTEL.png',
          plans: [
            { id: 4, name: '1GB', price: 300, validity: '30 Days' },
            { id: 5, name: '2GB', price: 600, validity: '30 Days' }
          ]
        },
        {
          name: 'GLO',
          logo: 'https://pulsepoint.com.ng/img/GLO.png',
          plans: [
            { id: 6, name: '1.35GB', price: 500, validity: '30 Days' }
          ]
        },
        {
          name: '9MOBILE',
          logo: 'https://pulsepoint.com.ng/img/9MOBILE.png',
          plans: [
            { id: 7, name: '1GB', price: 400, validity: '30 Days' }
          ]
        }
      ]
    }
  },

  computed: {
    plans() {
      return this.network ? this.network.plans : []
    },

    isValid() {
      return (
        this.phone.length === 11 &&
        this.network &&
        this.selectedPlan &&
        this.balance >= this.selectedPlan.price
      )
    }
  },

  methods: {
    selectNetwork(net) {
      this.network = net
      this.selectedPlan = null
    },

    selectPlan(plan) {
      this.selectedPlan = plan
    },

    submit() {
      const payload = {
        type: 'data',
        network: this.network.name,
        plan_id: this.selectedPlan.id,
        plan_name: this.selectedPlan.name,
        amount: this.selectedPlan.price,
        phone: this.phone
      }

      console.log('Data Purchase:', payload)
      alert('Data purchase submitted (check console)')
    }
  },

  mounted() {
    lucide.createIcons()
  }
}).mount('#app')
</script>

</body>
</html>
